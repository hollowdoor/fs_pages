'use strict';

var _ = require('../');

var _ava = require('ava');

var _ava2 = _interopRequireDefault(_ava);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

_ava2.default.after('delete', async t => {

    let pages = new _.Pages();

    await pages.load(['./test/store1/*.md']);

    t.is(pages.length, 4);

    await pages.delete();

    await pages.load();

    t.is(pages.length, 0);
});

(0, _ava2.default)('load', async t => {
    let pages = new _.Pages();
    //console.log('pages ', pages);
    let p = await pages.load('./test/stuff/*.md');
    t.is(p[0].content, '1\n');
});

(0, _ava2.default)('output', async t => {
    let pages = new _.Pages({
        afterOutput(pages) {
            //console.log(pages)
            return new _.Pages({ pages });
        }
    });
    await pages.load(['./test/stuff/*.md']);
    let p = await pages.output('./test/store1');
    t.is(p.pages[0].content, '1\n');
});

/*
pages1.load().then(pages=>{
    pages.forEach(page=>{
        console.log(page.content);
    });
    console.log('pages ', pages);
    for(let page of pages){
        console.log('page ',page);
    }
});

pages1.load();
pages1.output('store1').then((pages)=>{
    console.log(pages);
    console.log('done');
    return new Pages({pages});
}).then(pages=>{
    console.log(pages.pages);
    setTimeout(()=>{
        for(let page of pages){
            //console.log(page);
            page.delete();
        }
    }, 4000);

}).catch(e=>{
    console.error(e);
});*/
//# sourceMappingURL=/home/spirit/Projects/JSLibs/FileOps/fs_pages/node_modules/.cache/ava/550f0abd4fcead711b703a1514c3183a.js.map