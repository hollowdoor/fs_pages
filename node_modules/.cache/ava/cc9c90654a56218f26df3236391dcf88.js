'use strict';

var _ = require('../');

var _ava = require('ava');

var _ava2 = _interopRequireDefault(_ava);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

_ava2.default.before(t => {});

(0, _ava2.default)('load', async t => {
    let pages = new _.Pages({ globs: './test/stuff/*' });
    //console.log('pages ', pages);
    let p = await pages.load();
    t.is(p[0].content, '1\n');
});

(0, _ava2.default)('output', async t => {
    let pages = new _.Pages({
        globs: './test/stuff/*',
        afterOutput(pages) {
            console.log(pages);
            return new _.Pages({ pages });
        }
    });
    await pages.load();
    let p = await pages.output('./test/store1');
    console.log('p[0]', p[0]);
    t.is(p[0].content, '1\n');
});
/*
pages1.load().then(pages=>{
    pages.forEach(page=>{
        console.log(page.content);
    });
    console.log('pages ', pages);
    for(let page of pages){
        console.log('page ',page);
    }
});

pages1.load();
pages1.output('store1').then((pages)=>{
    console.log(pages);
    console.log('done');
    return new Pages({pages});
}).then(pages=>{
    console.log(pages.pages);
    setTimeout(()=>{
        for(let page of pages){
            //console.log(page);
            page.delete();
        }
    }, 4000);

}).catch(e=>{
    console.error(e);
});*/
//# sourceMappingURL=/home/spirit/Projects/JSLibs/FileOps/fs_pages/node_modules/.cache/ava/cc9c90654a56218f26df3236391dcf88.js.map