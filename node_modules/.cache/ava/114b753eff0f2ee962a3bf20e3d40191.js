'use strict';

var _ = require('../');

var _ava = require('ava');

var _ava2 = _interopRequireDefault(_ava);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

_ava2.default.after('delete', async t => {

    let pages = new _.Pages('./test');

    await pages.load(['./store1/*.md']);

    t.is(pages.length, 3);

    await pages.delete();

    await pages.load();

    t.is(pages.length, 0);
});

(0, _ava2.default)('load', async t => {
    let pages = new _.Pages('./test');
    //console.log('pages ', pages);
    let p = await pages.load('./stuff/*.md');
    t.is(p.pages[0].content, '1\n');
});

(0, _ava2.default)('output', async t => {
    let pages = new _.Pages('./test', {
        afterOutput(pages) {
            return pages.load();
        }
    });
    await pages.load(['./stuff/*.md']);
    let p = await pages.output('./test/store1');
    t.is(p.pages[0].content, '1\n');
});

/*
pages1.load().then(pages=>{
    pages.forEach(page=>{
        console.log(page.content);
    });
    console.log('pages ', pages);
    for(let page of pages){
        console.log('page ',page);
    }
});

pages1.load();
pages1.output('store1').then((pages)=>{
    console.log(pages);
    console.log('done');
    return new Pages({pages});
}).then(pages=>{
    console.log(pages.pages);
    setTimeout(()=>{
        for(let page of pages){
            //console.log(page);
            page.delete();
        }
    }, 4000);

}).catch(e=>{
    console.error(e);
});*/
//# sourceMappingURL=/home/spirit/Projects/JSLibs/FileOps/fs_pages/node_modules/.cache/ava/114b753eff0f2ee962a3bf20e3d40191.js.map